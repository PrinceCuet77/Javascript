# Memoization

- A

```js
function add(x) {
  return x + 10;
}

function memoization(fn) {
  const cache = {};
  return function (x) {
    if (cache[x]) {
      console.log('Return from cache...');
      return cache[x];
    } else {
      console.log('Calculating result...');
      const result = fn(x);
      cache[x] = result;
      return result;
    }
  };
}

const addition = memoization(add);
console.log(addition(10));
console.log(addition(20));
console.log(addition(10));
```

- Output:

```txt
Calculating result...
20
Calculating result...
30
Return from cache...
20
```

- Receiving multiple values as a parameter

```js
function add(...x) {
  return x.reduce((sum, curr) => sum + curr, 0);
}

function memoization(fn) {
  const cache = {};
  return function (...x) {
    const key = JSON.stringify(x);
    if (cache[key]) {
      console.log('Return from cache... ', key);
      return cache[key];
    } else {
      console.log('Calculating result...');
      const result = fn(...x);
      cache[key] = result;
      console.log('But new key is: ', key);
      return result;
    }
  };
}

const addition = memoization(add);
console.log(addition(10, 20, 30, 40));
console.log(addition(20, 10, 30, 50));
console.log(addition(10, 20, 30, 40));
```

- Output:

```txt
Calculating result...
But new key is:  '[10,20,30,40]'
100
Calculating result...
But new key is:  '[20,10,30,50]'
110
Return from cache...  '[10,20,30,40]'
100
```
